**libtectonics** is the core C++ library that's intended to supplant the backend to [tectonics.js](http://davidson16807.github.io/tectonics.js/). It contains only the best parts of tectonics.js - the parts that either have proven out over time or have emerged with confidence as replacements through good design. 

This library is designed for use by other developers. Numerous space simulators can make use of the functionality here. The components here are lightweight and loosely coupled. Parts of the library can be easily taken out, mixed and matched, and modified. The library is also rigorously covered by unit tests. It's a shame really if this library only gets used once. 

Permission to use the code is provided under the Creative Commons Attribution 4.0 license. You may modify and redistribute the code as you see fit. You need only attribute the work to me as the project developer, which I appreciate since it helps me develop professionally. Drop me a line if you do so since it's encouraging to hear my work is getting used! 

#Dependencies
Some functionality within the library makes use of dependencies. I make exclusive use of header-only libraries, and make sure to cordon off any code that uses the dependency from the rest of the library. You should never have to add a dependency to your project just because you want to use a feature in a library that makes no use of it.

I try to limit the use of dependencies, but there are times where dependencies are essential. The problems that face libtectonics often deal with complex topics like linear algebra and vector calculus. As the developer, I want to limit project scope, so I don't want to go implement my own library, and as the user, you definitely don't want to familiarize yourself with some random guy's obscure linear algebra library. Everybody benefits from using a single common library. However, as with linear algebra libraries, there's often no standard implementation in C++, so we must choose from one of several existing dependencies, or create our own. I have chosen to use the following dependencies, for the stated reasons:

* **glm** This library is a C++ implementation of the built in functions used within the glsl shading language. I use glm because libtectonics is meant for use in graphical space simulators, and I feel most users will already be familiar with at least one shading language that's similar to glsl. Using glm allows the reuse of a very well established set of conventions. If you've never used glm or glsl, it's worthwhile to start learning. Similar glm-derived libraries exist for other languages, too, so it's often very easy to port libtectonics code to other languages. 

* **rasters** This is a library I have created to handle vector calculus within libtectonics. While pre-existing libraries do exist that allow for vector calculus operations on unstructured meshes (e.g. [libMesh](https://libmesh.github.io/externalsoftware.html)), their scope goes way beyond the problem, they do not integrate with glm, and I feel there is need for a light-weight, header-only library that fulfills those requirements. 

* **composites** This is a dependency of the rasters library that I have also created. It creates a series of templated data structures that wrap std::vector objects to enable arithmetic operations to be performed on their contents as if they were simple floats or ints. I have learned this is essential to be able to efficiently reason about complex operations on scalar and vector fields in tectonics.js. Other solutions exist that also fulfill this role, however they all fail for one reason or another. [std::valarray](https://en.cppreference.com/w/cpp/numeric/valarray) is a C++ standard, but it does not allow for storing glm data types and it has several severe restrictions relating to its flawed design history (for instance, it fails to implement standard container methods like .begin() and .end()). [xtensor](https://github.com/QuantStack/xtensor) is indeed a very beautiful library, but I've found it difficult to expose its data types to other languages through wrappers, and it comes with its own linear algebra implementation that does not leverage glm. 

#Unit Testing
Every component that is incorporated into libtectonics goes through unit testing. Unit tests are made possible using the [catch](https://github.com/catchorg/Catch2) framework. Unit tests check for algabraic properties such as idempotence, associativity, or invertability, in addition to custom checks to ensure the code is able to reproduce basic facts about Earth or the other bodies in the solar sytem, to within at least an order of magnitude. 

